(this["webpackJsonphw-final-app"]=this["webpackJsonphw-final-app"]||[]).push([[0],{169:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);var s,r=a(3),n=a.n(r),o=a(31),c=a.n(o),i=a(9),l=a(5),d={jwt:null,firstName:"",lastName:"",setAuthInfo:function(){},loading:!1},u=n.a.createContext(d),j=u.Provider,b=(u.Consumer,a(11)),x=a(0),p=function(){var e=function(e){var t=document.querySelector("html");"dark"!==e||(null===t||void 0===t?void 0:t.classList.contains("dark"))?(null===t||void 0===t||t.classList.remove("dark"),o("\ud83c\udf11")):(o("\u2600"),null===t||void 0===t||t.classList.add(e))},t=function(){var e=document.querySelector("html");return!!(null===e||void 0===e?void 0:e.classList.contains("dark"))},a=Object(r.useState)(t()?"\u2600":"\ud83c\udf11"),s=Object(i.a)(a,2),n=s[0],o=s[1],c=Object(r.useContext)(u);return Object(x.jsxs)("header",{className:"flex p-2 bg-blue-700 dark:bg-gray-800 justify-between",children:[Object(x.jsx)("div",{className:"flex",children:Object(x.jsxs)("ul",{className:"flex flex-wrap flex-row list-none",children:[Object(x.jsx)("li",{className:"flex-auto",children:Object(x.jsx)(b.b,{className:"block px-2 text-white ",to:"/",title:"Home",children:Object(x.jsx)("span",{className:"text-2xl animal"})})}),null===c.jwt?Object(x.jsx)(x.Fragment,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("li",{className:"flex-auto",children:Object(x.jsx)(b.c,{className:"block p-2 text-white dark:hover:bg-pink-100 dark:hover:text-black font-semibold",to:"/todos",children:"Todo list"})}),Object(x.jsx)("li",{className:"flex-auto",children:Object(x.jsx)(b.c,{className:"block p-2 text-white dark:hover:bg-pink-100 dark:hover:text-black font-semibold",to:"/categories",children:"Categories"})}),Object(x.jsx)("li",{className:"flex-auto",children:Object(x.jsx)(b.c,{className:"block p-2 text-white dark:hover:bg-pink-100 dark:hover:text-black font-semibold",to:"/priorities",children:"Priorities"})})]})]})}),Object(x.jsxs)("div",{className:"flex",children:[Object(x.jsx)("ul",{className:"flex flex-wrap flex-row list-none",children:null===c.jwt?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("li",{className:"flex-auto",children:Object(x.jsx)(b.c,{className:"block p-2 text-white hover:bg-pink-100 hover:text-black font-semibold",to:"/identity/login",children:"Login"})}),Object(x.jsx)("li",{className:"flex-auto",children:Object(x.jsx)(b.c,{className:"block p-2 text-white hover:bg-pink-100 hover:text-black font-semibold",to:"/identity/register",children:"Register"})})]}):Object(x.jsx)("li",{children:Object(x.jsx)("button",{onClick:function(){c.setAuthInfo(null,"","")},className:"block p-2 text-white hover:bg-pink-100 hover:text-black font-semibold",children:"Log Out"})})}),t()?Object(x.jsx)("button",{className:"text-white",onClick:function(){return e("")},children:n}):Object(x.jsx)("button",{onClick:function(){return e("dark")},children:n})]})]})},m=a(10),h=function(){var e=Object(r.useContext)(u);return Object(x.jsx)("div",{className:"flex flex-row justify-center text-white",children:Object(x.jsxs)("div",{className:"flex flex-col space-y-20",children:[Object(x.jsx)("div",{children:"Sadly, this page does not exist."}),Object(x.jsxs)("div",{className:"flex flex-row justify-evenly font-semibold",children:[Object(x.jsx)(b.b,{to:"/",children:"Home"}),"|",null===e.jwt?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.b,{to:"/identity/login",children:"Login"}),"|",Object(x.jsx)(b.b,{to:"/identity/register",children:"Register"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.b,{to:"/todos",children:"Todo list"}),"|",Object(x.jsx)(b.b,{to:"/categories",children:"Categories"}),"|",Object(x.jsx)(b.b,{to:"/priorities",children:"Priorities"})]})]})]})})},f=a(6),g=a.n(f),v=a(8);!function(e){e.Loading="Loading...",e.Error="Error...",e.Ok="Ok"}(s||(s={}));var O=function(e){var t;switch(e.pageStatus.pageStatus){case s.Loading:return Object(x.jsx)("div",{className:"absolute top-0 right-0 bottom-0 left-0 w-full h-full bg-gray-600 grid opacity-60 justify-center content-center ",children:Object(x.jsxs)("div",{className:"lds-ring",children:[Object(x.jsx)("div",{className:"dark:boder-white"}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{})]})});case s.Error:return Object(x.jsxs)("div",{id:"error",onClick:function(e){return function(e){var t;null===(t=document.querySelector("#error"))||void 0===t||t.classList.add("hidden")}()},className:"absolute top-0 bg-red-300 p-4 rounded-br-md",children:["Error ",e.pageStatus.statusCode,Object(x.jsx)("br",{}),Object(x.jsx)("ul",{children:null===(t=e.pageStatus.messages)||void 0===t?void 0:t.map((function(e){return Object(x.jsx)("li",{children:e})}))})]});default:return Object(x.jsx)(x.Fragment,{})}},w=a(35),y=a(79),N=a(36),C=a.n(N),k=function(){function e(){Object(w.a)(this,e)}return Object(y.a)(e,null,[{key:"getAxiosConfiguration",value:function(e){if(e)return{headers:{Authorization:"Bearer "+e}}}}]),e}();k._axios=C.a.create({baseURL:"https://taltech.akaver.com/api/v1/",headers:{"Content-Type":"application/json"}}),k.getAll=function(){var e=Object(v.a)(g.a.mark((function e(t,a){var s,r,n,o,c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k._axios.get(t,k.getAxiosConfiguration(a));case 3:return s=e.sent,e.abrupt("return",{ok:s.status<=299,statusCode:s.status,data:s.data});case 7:return e.prev=7,e.t0=e.catch(0),i=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(r=null===(n=i.response)||void 0===n?void 0:n.status)&&void 0!==r?r:500,data:null===(o=i.response)||void 0===o?void 0:o.data,messages:null===(c=i.response)||void 0===c?void 0:c.data.messages});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),k.get=function(){var e=Object(v.a)(g.a.mark((function e(t,a,s){var r,n,o,c,i,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k._axios.get("".concat(t,"/").concat(a),k.getAxiosConfiguration(s));case 3:return r=e.sent,e.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 7:return e.prev=7,e.t0=e.catch(0),l=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(n=null===(o=l.response)||void 0===o?void 0:o.status)&&void 0!==n?n:500,data:null===(c=l.response)||void 0===c?void 0:c.data,messages:null===(i=l.response)||void 0===i?void 0:i.data.messages});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,s){return e.apply(this,arguments)}}(),k.post=function(){var e=Object(v.a)(g.a.mark((function e(t,a,s){var r,n,o,c,i,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k._axios.post(t,JSON.stringify(a),k.getAxiosConfiguration(s));case 3:return r=e.sent,e.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 7:return e.prev=7,e.t0=e.catch(0),l=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(n=null===(o=l.response)||void 0===o?void 0:o.status)&&void 0!==n?n:500,data:null===(c=l.response)||void 0===c?void 0:c.data,messages:null===(i=l.response)||void 0===i?void 0:i.data.messages});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,s){return e.apply(this,arguments)}}(),k.put=function(){var e=Object(v.a)(g.a.mark((function e(t,a,s,r){var n,o,c,i,l,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k._axios.put("".concat(t,"/").concat(s),JSON.stringify(a),k.getAxiosConfiguration(r));case 3:return n=e.sent,e.abrupt("return",{ok:n.status<=299,statusCode:n.status,data:n.data});case 7:return e.prev=7,e.t0=e.catch(0),d=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(o=null===(c=d.response)||void 0===c?void 0:c.status)&&void 0!==o?o:500,data:null===(i=d.response)||void 0===i?void 0:i.data,messages:null===(l=d.response)||void 0===l?void 0:l.data.messages});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,s,r){return e.apply(this,arguments)}}(),k.delete=function(){var e=Object(v.a)(g.a.mark((function e(t,a,s){var r,n,o,c,i,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k._axios.delete("".concat(t,"/").concat(a),k.getAxiosConfiguration(s));case 3:return r=e.sent,e.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 7:return e.prev=7,e.t0=e.catch(0),l=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(n=null===(o=l.response)||void 0===o?void 0:o.status)&&void 0!==n?n:500,data:null===(c=l.response)||void 0===c?void 0:c.data,messages:null===(i=l.response)||void 0===i?void 0:i.data.messages});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,s){return e.apply(this,arguments)}}();var S=function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return"".concat(e.getDate()>9?e.getDate():"0"+e.getDate()).concat(t).concat(e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1)).concat(t).concat(e.getFullYear())};return Object(x.jsx)("div",{className:"flex justify-center p-2 border-t border-b border-1",children:Object(x.jsxs)("div",{className:"flex flex-col sm:w-120 w-96 cursor-default",children:[Object(x.jsxs)("div",{className:"flex flex-row justify-between font-semibold text-white",children:[Object(x.jsx)("div",{className:"sm:w-2/4 w-2/3",children:"Task"}),Object(x.jsx)("div",{className:"sm:w-1/4 sm:block hidden",children:"Added"}),Object(x.jsx)("div",{className:"sm:w-1/4 w-1/3",children:"Due date"}),Object(x.jsx)("div",{className:"w-4"})]}),Object(x.jsx)("div",{className:"space-y-2",children:e.values.sort((function(e,t){var a,s;return e.isCompleted===t.isCompleted?new Date(null!==(a=e.dueDt)&&void 0!==a?a:"")<new Date(null!==(s=t.dueDt)&&void 0!==s?s:"")?-1:1:e.isCompleted?1:-1})).map((function(a){var s,r,n;return a.id===e.selectedTodo.id?Object(x.jsxs)("div",{className:"flex flex-row justify-between p-1 border rounded-md border-yellow-100 bg-yellow-200 text-black cursor-pointer",children:[Object(x.jsxs)("div",{onClick:function(t){return e.selectedTodo.id===a.id?e.setSelectedTodo(E):e.setSelectedTodo(a)},className:"flex flex-row justify-between w-full",id:a.id,children:[Object(x.jsx)("div",{className:"sm:w-2/4  w-2/3",children:a.taskName}),Object(x.jsx)("div",{className:"sm:w-1/4 sm:block hidden",children:t(new Date(null!==(s=a.createdDt)&&void 0!==s?s:new Date))}),Object(x.jsx)("div",{className:"sm:w-1/4  w-1/3",children:t(new Date(a.dueDt))})]}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"h-4 w-4",type:"checkbox",checked:a.isCompleted,onChange:function(){e.setTodoCompletedValue(a)}})})]}):a.isCompleted?Object(x.jsxs)("div",{className:"flex flex-row justify-between p-1 border rounded-md border-white hover:bg-yellow-200 hover:text-black text-white opacity-30 cursor-pointer",children:[Object(x.jsxs)("div",{onClick:function(t){return e.selectedTodo.id===a.id?e.setSelectedTodo(E):e.setSelectedTodo(a)},className:"flex flex-row justify-between w-full",id:a.id,children:[Object(x.jsx)("div",{className:"sm:w-2/4  w-2/3",children:a.taskName}),Object(x.jsx)("div",{className:"sm:w-1/4 sm:block hidden",children:t(new Date(null!==(r=a.createdDt)&&void 0!==r?r:new Date))}),Object(x.jsx)("div",{className:"sm:w-1/4  w-1/3",children:t(new Date(a.dueDt))})]}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"h-4 w-4",type:"checkbox",checked:a.isCompleted,onChange:function(){e.setTodoCompletedValue(a)}})})]}):Object(x.jsxs)("div",{className:"flex flex-row justify-between p-1 border rounded-md border-white hover:bg-yellow-200 hover:text-black text-white cursor-pointer",children:[Object(x.jsxs)("div",{onClick:function(t){return e.selectedTodo.id===a.id?e.setSelectedTodo(E):e.setSelectedTodo(a)},className:"flex flex-row justify-between w-full",id:a.id,children:[Object(x.jsx)("div",{className:"sm:w-2/4  w-2/3",children:a.taskName}),Object(x.jsx)("div",{className:"sm:w-1/4 sm:block hidden",children:t(new Date(null!==(n=a.createdDt)&&void 0!==n?n:new Date))}),Object(x.jsx)("div",{className:"sm:w-1/4  w-1/3",children:t(new Date(a.dueDt))})]}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"h-4 w-4",type:"checkbox",checked:a.isCompleted,onChange:function(){e.setTodoCompletedValue(a)}})})]})}))})]})})},D=a(37),T=a.n(D),P=function(e){return Object(x.jsx)("div",{className:"flex justify-center p-2 border-t border-b border-1",children:Object(x.jsx)("form",{className:"p-2 w-96 sm:w-120 text-black",children:Object(x.jsxs)("div",{className:"flex w-full flex-col space-y-4",children:[Object(x.jsxs)("div",{className:"flex flex-col space-y-4",children:[Object(x.jsxs)("div",{className:"flex flex-col",children:[Object(x.jsx)("label",{className:"text-white font-semibold",children:"What do you need to do?"}),Object(x.jsx)("input",{id:"taskName",type:"text",className:"p-1",value:e.values.taskName,onChange:function(t){return e.handleChange(t.target)}})]}),Object(x.jsxs)("div",{className:"flex flex-col",children:[Object(x.jsx)("label",{className:"text-white font-semibold",children:"When does it have to be done?"}),Object(x.jsx)(T.a,{className:"w-full",selected:new Date(e.date),onChange:function(t){return e.handleDateChange(t)},dateFormat:"dd.MM.yyyy",minDate:new Date(Date.now())})]})]}),Object(x.jsxs)("div",{className:"flex flex-row justify-between",children:[Object(x.jsxs)("div",{className:"flex flex-col w-1/3",children:[Object(x.jsx)("label",{htmlFor:"todoCategoryId",className:"text-white font-semibold",children:"Categorize!"}),e.categories.length>0?Object(x.jsxs)("select",{id:"todoCategoryId",value:e.values.todoCategoryId,onChange:function(t){return e.handleChange(t.target)},className:"p-1",children:[Object(x.jsx)("option",{value:""}),e.categories.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.categoryName},e.id)}))]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.b,{className:"hover:text-pink-100 font-semibold underline text-white",to:"/categories/add",children:"Add categories"}),Object(x.jsx)("button",{onClick:function(t){e.generateDefaultCategories(),t.preventDefault()},className:"hover:text-pink-100 font-semibold underline text-white text-left",children:"Generate default"})]})]}),Object(x.jsxs)("div",{className:"flex flex-col w-1/3",children:[Object(x.jsx)("label",{className:"text-white font-semibold",children:"Prioritize!"}),e.priorities.length>0?Object(x.jsxs)("select",{id:"todoPriorityId",value:e.values.todoPriorityId,onChange:function(t){return e.handleChange(t.target)},className:"p-1",children:[Object(x.jsx)("option",{value:""}),e.priorities.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.priorityName},e.id)}))]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.b,{className:"hover:text-pink-100 font-semibold underline text-white",to:"/priorities/add",children:"Add priorities"}),Object(x.jsx)("button",{onClick:function(t){e.generateDefaultPriorities(),t.preventDefault()},className:"hover:text-pink-100 font-semibold underline text-white text-left",children:"Generate default"})]})]})]}),Object(x.jsx)("div",{className:"flex flex-row justify-center",children:Object(x.jsx)("button",{className:"p-2 bg-green-600 w-full font-bold text-white",onClick:function(t){e.addTodo(t.target),t.preventDefault()},children:"Add"})})]})})})},F=function(e){return Object(x.jsx)("div",{className:"flex justify-center p-2 border-t border-b border-1",children:Object(x.jsx)("form",{className:"p-2 w-96 sm:w-120 text-black",children:Object(x.jsxs)("div",{className:"flex w-full flex-col space-y-4",children:[Object(x.jsxs)("div",{className:"flex flex-col space-y-4",children:[Object(x.jsxs)("div",{className:"flex flex-col",children:[Object(x.jsx)("label",{className:"text-white font-semibold",children:"What do you need to do?"}),Object(x.jsx)("input",{id:"taskName",type:"text",className:"p-1",value:e.values.taskName,onChange:function(t){return e.handleChange(t.target)}})]}),Object(x.jsxs)("div",{className:"flex flex-col",children:[Object(x.jsx)("label",{className:"text-white font-semibold",children:"When does it have to be done?"}),Object(x.jsx)(T.a,{className:"w-full",selected:new Date(e.values.dueDt),onChange:function(t){return e.handleDateChange(t)},dateFormat:"dd.MM.yyyy",minDate:new Date(Date.now())})]})]}),Object(x.jsxs)("div",{className:"flex flex-row justify-between",children:[Object(x.jsxs)("div",{className:"flex flex-col w-1/3",children:[Object(x.jsx)("label",{htmlFor:"todoCategoryId",className:"text-white font-semibold",children:"Categorize!"}),Object(x.jsxs)("select",{id:"todoCategoryId",value:e.values.todoCategoryId,onChange:function(t){return e.handleChange(t.target)},className:"p-1",children:[Object(x.jsx)("option",{value:""}),e.categories.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.categoryName},e.id)}))]})]}),Object(x.jsxs)("div",{className:"flex flex-col w-1/3",children:[Object(x.jsx)("label",{className:"text-white font-semibold",children:"Prioritize!"}),Object(x.jsxs)("select",{id:"todoPriorityId",value:e.values.todoPriorityId,onChange:function(t){return e.handleChange(t.target)},className:"p-1",children:[Object(x.jsx)("option",{value:""}),e.priorities.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.priorityName},e.id)}))]})]})]}),Object(x.jsxs)("div",{className:"flex flex-row justify-center",children:[Object(x.jsx)("button",{className:"p-2 bg-yellow-200 w-full font-bold text-black",onClick:function(t){e.editTodo(t.target),t.preventDefault()},children:"Edit"}),Object(x.jsx)("button",{className:"p-2 bg-red-200 w-full font-bold text-black",onClick:function(t){var a;e.removeTodo(null!==(a=e.values.id)&&void 0!==a?a:""),t.preventDefault()},children:"Delete"})]})]})})})},L={taskName:"",taskSort:0,dueDt:new Date(Date.now()),isCompleted:!1,isArchived:!1,todoCategoryId:"",todoPriorityId:""},E={id:"",taskName:"",taskSort:0,dueDt:new Date(Date.now()),isCompleted:!1,isArchived:!1,todoCategoryId:"",todoPriorityId:""},I=function(){var e=Object(r.useState)(L),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)([]),c=Object(i.a)(o,2),d=c[0],j=c[1],b=Object(r.useState)({pageStatus:s.Loading,statusCode:-1}),p=Object(i.a)(b,2),h=p[0],f=p[1],w=Object(r.useState)([]),y=Object(i.a)(w,2),N=y[0],C=y[1],D=Object(r.useState)([]),T=Object(i.a)(D,2),I=T[0],A=T[1],M=Object(r.useState)(new Date(Date.now())),R=Object(i.a)(M,2),q=R[0],H=R[1],J=Object(r.useState)(E),_=Object(i.a)(J,2),z=_[0],W=_[1],V=Object(r.useContext)(u),B=function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,r,n,o,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getAll("/TodoTasks",null!==(t=V.jwt)&&void 0!==t?t:"");case 2:if(!(a=e.sent).ok||!a.data){e.next=16;break}return j(a.data),e.next=7,k.getAll("/TodoCategories",null!==(r=V.jwt)&&void 0!==r?r:"");case 7:return(o=e.sent).ok&&o.data&&C(o.data),e.next=11,k.getAll("/TodoPriorities",null!==(n=V.jwt)&&void 0!==n?n:"");case 11:(c=e.sent).ok&&c.data&&A(c.data),f({pageStatus:s.Ok,statusCode:a.statusCode}),e.next=17;break;case 16:f({pageStatus:s.Error,statusCode:a.statusCode,messages:a.messages});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(v.a)(g.a.mark((function e(t){var r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f({pageStatus:s.Loading,statusCode:-1}),e.next=3,k.post("/TodoTasks",a,null!==(r=V.jwt)&&void 0!==r?r:"");case 3:o=e.sent,console.log(o),o.ok?(n(L),H(new Date(Date.now())),f({pageStatus:s.Ok,statusCode:o.statusCode}),B()):f({pageStatus:s.Error,statusCode:o.statusCode,messages:o.messages});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,r,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f({pageStatus:s.Loading,statusCode:-1}),e.next=3,k.put("/TodoTasks",z,null!==(a=z.id)&&void 0!==a?a:"",null!==(r=V.jwt)&&void 0!==r?r:"");case 3:(n=e.sent).ok?(f({pageStatus:s.Ok,statusCode:n.statusCode}),W(E),B()):f({pageStatus:s.Error,statusCode:n.statusCode,messages:n.messages});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,r,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isCompleted?t.isCompleted=!1:t.isCompleted=!0,f({pageStatus:s.Loading,statusCode:-1}),e.next=4,k.put("/TodoTasks",t,null!==(a=t.id)&&void 0!==a?a:"",null!==(r=V.jwt)&&void 0!==r?r:"");case 4:(n=e.sent).ok?(f({pageStatus:s.Ok,statusCode:n.statusCode}),B()):f({pageStatus:s.Error,statusCode:n.statusCode,messages:n.messages});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,r,n,o,c,i,l,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={priorityName:"Low",prioritySort:0},o={priorityName:"Normal",prioritySort:1},c={priorityName:"High",prioritySort:2},f({pageStatus:s.Loading,statusCode:-1}),e.next=6,k.post("/TodoPriorities",n,null!==(t=V.jwt)&&void 0!==t?t:"");case 6:if((i=e.sent).ok){e.next=10;break}return f({pageStatus:s.Error,statusCode:i.statusCode,messages:i.messages}),e.abrupt("return");case 10:return e.next=12,k.post("/TodoPriorities",o,null!==(a=V.jwt)&&void 0!==a?a:"");case 12:if((l=e.sent).ok){e.next=16;break}return f({pageStatus:s.Error,statusCode:l.statusCode,messages:l.messages}),e.abrupt("return");case 16:return e.next=18,k.post("/TodoPriorities",c,null!==(r=V.jwt)&&void 0!==r?r:"");case 18:if((d=e.sent).ok){e.next=22;break}return f({pageStatus:s.Error,statusCode:d.statusCode,messages:d.messages}),e.abrupt("return");case 22:f({pageStatus:s.Ok,statusCode:d.statusCode}),B();case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,r,n,o,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={categoryName:"Home",categorySort:0},n={categoryName:"Work",categorySort:1},f({pageStatus:s.Loading,statusCode:-1}),e.next=5,k.post("/TodoCategories",r,null!==(t=V.jwt)&&void 0!==t?t:"");case 5:if((o=e.sent).ok){e.next=9;break}return f({pageStatus:s.Error,statusCode:o.statusCode,messages:o.messages}),e.abrupt("return");case 9:return e.next=11,k.post("/TodoCategories",n,null!==(a=V.jwt)&&void 0!==a?a:"");case 11:if((c=e.sent).ok){e.next=15;break}return f({pageStatus:s.Error,statusCode:c.statusCode,messages:c.messages}),e.abrupt("return");case 15:f({pageStatus:s.Ok,statusCode:c.statusCode}),B();case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f({pageStatus:s.Loading,statusCode:-1}),e.next=3,k.delete("/TodoTasks",t,null!==(a=V.jwt)&&void 0!==a?a:"");case 3:(r=e.sent).ok?(f({pageStatus:s.Ok,statusCode:r.statusCode}),d.splice(d.findIndex((function(e){return e.id===t})),1),j(d),W(E)):f({pageStatus:s.Error,statusCode:r.statusCode,messages:r.messages});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(e){var t=document.querySelector(".panel"),a=document.querySelector(".accordion");e?(t.classList.add("hidden"),a.classList.add("h-auto"),a.innerHTML="\u2b07"):(t.classList.remove("hidden"),t.classList.add("flex"),a.classList.remove("h-4"),a.innerHTML="\u2b06")};return Object(r.useEffect)((function(){B()}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(O,{pageStatus:h}),null!==V.jwt?Object(x.jsxs)("div",{className:"flex lg:flex-row flex-col justify-evenly",children:[Object(x.jsxs)("div",{className:"lg:hidden accordion cursor-pointer text-right",onClick:function(){return function(){var e=document.querySelector(".panel");return!(null===e||void 0===e?void 0:e.classList.contains("hidden"))}()?Z(!0):Z(!1)},children:[Object(x.jsx)("span",{className:"italic text-sm",children:" Click to add new todos \u2192 "}),"\u2b07"]}),Object(x.jsx)("div",{className:"flex-col lg:space-y-12 panel lg:flex hidden",children:""!==z.id?Object(x.jsx)(F,{values:z,handleChange:function(e){switch(e.id){case"taskName":return void W(Object(l.a)(Object(l.a)({},z),{},{taskName:e.value}));case"todoCategoryId":return void W(Object(l.a)(Object(l.a)({},z),{},{todoCategoryId:e.value}));case"todoPriorityId":return void W(Object(l.a)(Object(l.a)({},z),{},{todoPriorityId:e.value}));default:return}},handleDateChange:function(e){W(Object(l.a)(Object(l.a)({},z),{},{dueDt:e}))},categories:N,priorities:I,editTodo:U,removeTodo:X}):Object(x.jsx)(P,{values:a,handleChange:function(e){switch(e.id){case"taskName":return void n(Object(l.a)(Object(l.a)({},a),{},{taskName:e.value}));case"todoCategoryId":return void n(Object(l.a)(Object(l.a)({},a),{},{todoCategoryId:e.value}));case"todoPriorityId":return void n(Object(l.a)(Object(l.a)({},a),{},{todoPriorityId:e.value}));default:return}},addTodo:G,pageStatus:h,categories:N,priorities:I,handleDateChange:function(e){H(e),n(Object(l.a)(Object(l.a)({},a),{},{dueDt:e}))},date:q,generateDefaultPriorities:K,generateDefaultCategories:Q})}),Object(x.jsx)(S,{values:d,setSelectedTodo:W,selectedTodo:z,setTodoCompletedValue:Y})]}):Object(x.jsx)(m.a,{to:"/"})]})},A=function(){var e=Object(r.useContext)(u);return Object(x.jsxs)("div",{className:"flex flex-col cursor-default",children:[Object(x.jsx)("p",{className:"text-9xl font-bold text-pink-200",children:"Todos."}),null===e.jwt?Object(x.jsxs)("p",{className:"text-2xl font-bold text-pink-200 pl-6",children:[Object(x.jsx)(b.b,{className:"hover:text-white",to:"/identity/login",children:"Login"})," to get started"]}):Object(x.jsx)("p",{className:"text-2xl font-bold text-pink-200 pl-6 italic",children:"You miss 100% of the shots you don't take."})]})},M=function e(){Object(w.a)(this,e)};M.axios=C.a.create({baseURL:"https://taltech.akaver.com/api/v1/Account/",headers:{"Content-Type":"application/json"}}),M.login=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,r,n,o,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.axios.post("Login",JSON.stringify(t));case 3:return a=e.sent,e.abrupt("return",{ok:a.status<=299,statusCode:a.status,data:a.data});case 7:return e.prev=7,e.t0=e.catch(0),c=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(s=null===(r=c.response)||void 0===r?void 0:r.status)&&void 0!==s?s:500,data:null===(n=c.response)||void 0===n?void 0:n.data,messages:null===(o=c.response)||void 0===o?void 0:o.data.messages});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),M.register=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,s,r,n,o,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.axios.post("Register",JSON.stringify(t));case 3:return a=e.sent,e.abrupt("return",{ok:a.status<=299,statusCode:a.status,data:a.data});case 7:return e.prev=7,e.t0=e.catch(0),c=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(s=null===(r=c.response)||void 0===r?void 0:r.status)&&void 0!==s?s:500,data:null===(n=c.response)||void 0===n?void 0:n.data,messages:null===(o=c.response)||void 0===o?void 0:o.data.messages});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();var R={email:"",password:""},q=function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"flex justify-center p-2 border-t border-b border-1",children:Object(x.jsxs)("form",{className:"p-2 w-96 sm:w-120 text-white space-y-4",children:[Object(x.jsxs)("div",{className:"grid grid-col",children:[Object(x.jsx)("label",{htmlFor:"email",className:"underline",children:"Email"}),Object(x.jsx)("input",{id:"email",type:"email",autoComplete:"email",className:"p-1 text-black bg-gray-100",value:e.values.email,onChange:function(t){return e.handleChange(t.target)}})]}),Object(x.jsxs)("div",{className:"grid grid-col",children:[Object(x.jsx)("label",{htmlFor:"password",className:"underline",children:"Password"}),Object(x.jsx)("input",{id:"password",type:"password",autoComplete:"password",className:"p-1 text-black bg-gray-100",value:e.values.password,onChange:function(t){return e.handleChange(t.target)}})]}),Object(x.jsx)("div",{className:"flex justify-center",children:Object(x.jsx)("button",{onClick:function(t){e.toggleAuthStatus(t.target),t.preventDefault()},className:"p-2 bg-green-600 w-full font-bold",children:"Login"})})]})}),Object(x.jsx)(O,{pageStatus:e.pageStatus})]})},H=function(){var e=Object(r.useState)(R),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)({pageStatus:s.Ok,statusCode:0}),c=Object(i.a)(o,2),d=c[0],j=c[1],b=Object(r.useContext)(u),p=function(){var e=Object(v.a)(g.a.mark((function e(t){var r,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,M.login({email:a.email,password:a.password});case 3:(r=e.sent).ok&&r.data&&(n=r.data,b.setAuthInfo(n.token,n.firstName,n.lastName),j({pageStatus:s.Ok,statusCode:0})),j({pageStatus:s.Error,statusCode:r.statusCode,messages:r.messages});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:null===b.jwt?Object(x.jsx)(q,{values:a,handleChange:function(e){"email"===e.id&&n(Object(l.a)(Object(l.a)({},a),{},{email:e.value})),"password"===e.id&&n(Object(l.a)(Object(l.a)({},a),{},{password:e.value}))},toggleAuthStatus:p,pageStatus:d}):Object(x.jsx)(m.a,{to:"/todos"})})},J={email:"",password:"",firstName:"",lastName:""},_=function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"flex justify-center p-2 border-t border-b border-1",children:Object(x.jsxs)("form",{className:"p-2 w-96 sm:w-120 text-white space-y-4",children:[Object(x.jsxs)("div",{className:"grid grid-col mb-2",children:[Object(x.jsx)("label",{htmlFor:"email",className:"underline",children:"Email"}),Object(x.jsx)("input",{id:"email",type:"email",autoComplete:"email",className:"p-1 text-black bg-gray-100",value:e.values.email,onChange:function(t){return e.handleChange(t.target)}})]}),Object(x.jsxs)("div",{className:"grid grid-col mb-2",children:[Object(x.jsx)("label",{htmlFor:"password",className:"underline",children:"Password"}),Object(x.jsx)("input",{id:"password",type:"password",autoComplete:"password",className:"p-1 text-black bg-gray-100",value:e.values.password,onChange:function(t){return e.handleChange(t.target)}})]}),Object(x.jsxs)("div",{className:"grid grid-col mb-2",children:[Object(x.jsx)("label",{htmlFor:"firstName",className:"underline",children:"First name"}),Object(x.jsx)("input",{id:"firstName",type:"text",className:"p-1 text-black bg-gray-100",value:e.values.firstName,onChange:function(t){return e.handleChange(t.target)}})]}),Object(x.jsxs)("div",{className:"grid grid-col mb-2",children:[Object(x.jsx)("label",{htmlFor:"lastName",className:"underline",children:"Last Name"}),Object(x.jsx)("input",{id:"lastName",type:"text",className:"p-1 text-black bg-gray-100",value:e.values.lastName,onChange:function(t){return e.handleChange(t.target)}})]}),Object(x.jsx)("div",{className:"flex justify-center",children:Object(x.jsx)("button",{onClick:function(t){e.toggleAuthStatus(t.target),t.preventDefault()},className:"p-2 bg-yellow-600 w-full font-bold",children:"Register"})})]})}),Object(x.jsx)(O,{pageStatus:e.pageStatus})]})},z=function(){var e=Object(r.useState)(J),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)({pageStatus:s.Ok,statusCode:0}),c=Object(i.a)(o,2),d=c[0],j=c[1],b=Object(r.useContext)(u),p=function(){var e=Object(v.a)(g.a.mark((function e(t){var r,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,M.register({email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName});case 3:(r=e.sent).ok&&r.data&&(n=r.data,b.setAuthInfo(n.token,n.firstName,n.lastName),j({pageStatus:s.Ok,statusCode:0})),j({pageStatus:s.Error,statusCode:r.statusCode,messages:r.messages});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:null===b.jwt?Object(x.jsx)(_,{values:a,handleChange:function(e){switch(e.id){case"email":n(Object(l.a)(Object(l.a)({},a),{},{email:e.value}));break;case"password":n(Object(l.a)(Object(l.a)({},a),{},{password:e.value}));break;case"firstName":n(Object(l.a)(Object(l.a)({},a),{},{firstName:e.value}));break;case"lastName":n(Object(l.a)(Object(l.a)({},a),{},{lastName:e.value}))}},toggleAuthStatus:p,pageStatus:d}):Object(x.jsx)(m.a,{to:"/todos"})})},W=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("form",{children:Object(x.jsxs)("div",{className:"flex flex-col space-y-4 p-4 border-2 border-white rounded-md  text-white dark:bg-transparent",children:[Object(x.jsxs)("div",{className:"flex flex-col font-semibold",children:[Object(x.jsx)("label",{htmlFor:"categoryName",children:"Category Name"}),Object(x.jsx)("input",{id:"categoryName",type:"text",className:"p-1 bg-white text-black",value:e.values.categoryName,onChange:function(t){return e.handleChange(t.target)}})]}),Object(x.jsxs)("div",{className:"flex flex-col font-semibold",children:[Object(x.jsx)("label",{htmlFor:"categorySort",children:"Priority"}),Object(x.jsx)("input",{id:"categorySort",type:"number",className:"p-1 bg-white text-black",value:e.values.categorySort,onChange:function(t){return e.handleChange(t.target)}})]}),Object(x.jsx)("div",{className:"flex flex-row justify-center",children:Object(x.jsx)("button",{className:"p-2 bg-green-600 w-full font-bold text-white",onClick:function(t){e.addCategory(t.target),t.preventDefault()},children:"Add"})})]})})})},V=function(e){var t=function(t){return Object(x.jsx)("div",{className:"flex w-full h-14 dark:border-white border rounded-md",children:e.selectedCategory.id===t.id?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{onClick:function(){return e.selectedCategory.id===t.id?e.selectCategory(U):e.selectCategory(t)},className:"flex w-3/5 flex-row space-x-4 p-4 rounded-l-md bg-yellow-100 text-blue-500 dark:text-white dark:bg-gray-600 cursor-pointer",children:[Object(x.jsx)("div",{className:"font-semibold w-1/2",children:t.categoryName}),Object(x.jsxs)("div",{className:"w-1/2",children:[Object(x.jsx)("label",{children:"Priority: "}),t.categorySort]})]}),Object(x.jsx)("div",{className:"flex w-2/5 flex-row ",children:Object(x.jsx)("button",{className:" w-full h-full p-4 bg-red-500 rounded-r-md text-white",onClick:function(){return e.removeCategory(t)},children:"Remove"})})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{onClick:function(){return e.selectedCategory.id===t.id?e.selectCategory(U):e.selectCategory(t)},className:"flex w-full flex-row space-x-4 p-4 rounded-md bg-white text-blue-500 dark:text-white dark:bg-transparent cursor-pointer hover:bg-yellow-200 dark:hover:bg-gray-400",children:[Object(x.jsx)("div",{className:"font-semibold w-1/2",children:t.categoryName}),Object(x.jsxs)("div",{className:"w-1/2",children:[Object(x.jsx)("label",{children:"Priority: "}),t.categorySort]}),Object(x.jsx)("div",{children:"\u2199"})]})})})};return Object(x.jsx)("div",{className:"space-y-2",children:e.categories.sort((function(e,t){return e.categorySort>t.categorySort?-1:1})).map((function(e){return Object(r.createElement)(t,Object(l.a)(Object(l.a)({},e),{},{key:e.id}))}))})},B=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("form",{children:Object(x.jsxs)("div",{className:"flex flex-col space-y-4 p-4 border-2 border-white rounded-md  text-white dark:bg-transparent",children:[Object(x.jsxs)("div",{className:"flex flex-col font-semibold",children:[Object(x.jsx)("label",{htmlFor:"categoryName",children:"Category Name"}),Object(x.jsx)("input",{id:"categoryName",type:"text",className:"p-1 bg-white text-black",value:e.values.categoryName,onChange:function(t){return e.handleEditChange(t.target)}})]}),Object(x.jsxs)("div",{className:"flex flex-col font-semibold",children:[Object(x.jsx)("label",{htmlFor:"categorySort",children:"Priority"}),Object(x.jsx)("input",{id:"categorySort",type:"number",className:"p-1 bg-white text-black",value:e.values.categorySort,onChange:function(t){return e.handleEditChange(t.target)}})]}),Object(x.jsx)("div",{className:"flex flex-row justify-center",children:Object(x.jsx)("button",{className:"p-2 bg-yellow-200 w-full font-bold text-black",onClick:function(t){e.editCategory(t.target),t.preventDefault()},children:"Edit"})})]})})})},G={categoryName:"",categorySort:0},U={categoryName:"",categorySort:0},Y=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)({pageStatus:s.Loading,statusCode:-1}),c=Object(i.a)(o,2),d=c[0],j=c[1],b=Object(r.useState)(G),p=Object(i.a)(b,2),h=p[0],f=p[1],w=Object(r.useState)(U),y=Object(i.a)(w,2),N=y[0],C=y[1],S=Object(r.useContext)(u);console.log(N);var D=function(){var e=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getAll("/TodoCategories",null!==(t=S.jwt)&&void 0!==t?t:"");case 2:(a=e.sent).ok&&a.data?(n(a.data),j({pageStatus:s.Ok,statusCode:a.statusCode})):j({pageStatus:s.Error,statusCode:a.statusCode,messages:a.messages});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,k.post("/TodoCategories",h,null!==(t=S.jwt)&&void 0!==t?t:"");case 3:(a=e.sent).ok&&a.data?(j({pageStatus:s.Ok,statusCode:a.statusCode}),D(),f(G)):j({pageStatus:s.Error,statusCode:a.statusCode,messages:a.messages});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,r,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,k.delete("/TodoCategories",null!==(a=t.id)&&void 0!==a?a:"",null!==(r=S.jwt)&&void 0!==r?r:"");case 3:(n=e.sent).ok?(j({pageStatus:s.Ok,statusCode:n.statusCode}),D(),f(G),C(U)):j({pageStatus:s.Error,statusCode:n.statusCode,messages:n.messages});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,k.put("/TodoCategories",N,null!==(t=N.id)&&void 0!==t?t:"",null!==(a=S.jwt)&&void 0!==a?a:"");case 3:(r=e.sent).ok?(j({pageStatus:s.Ok,statusCode:r.statusCode}),D(),f(G),C(U)):j({pageStatus:s.Error,statusCode:r.statusCode,messages:r.messages});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){D()}),[]),Object(x.jsx)(x.Fragment,{children:null!==S.jwt?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(O,{pageStatus:d}),Object(x.jsxs)("div",{className:"flex flex-col border-b border-t border-white p-4 space-y-4",children:[N.id?Object(x.jsx)(B,{handleEditChange:function(e){switch(e.id){case"categoryName":return void C(Object(l.a)(Object(l.a)({},N),{},{categoryName:e.value}));case"categorySort":return void C(Object(l.a)(Object(l.a)({},N),{},{categorySort:Number.parseInt(e.value)}));default:return}},values:N,editCategory:F}):Object(x.jsx)(W,{handleChange:function(e){switch(e.id){case"categoryName":return void f(Object(l.a)(Object(l.a)({},h),{},{categoryName:e.value}));case"categorySort":return void f(Object(l.a)(Object(l.a)({},h),{},{categorySort:Number.parseInt(e.value)}));default:return}},values:h,addCategory:T}),Object(x.jsx)(V,{removeCategory:P,categories:a,selectCategory:C,selectedCategory:N})]})]}):Object(x.jsx)(m.a,{to:"/"})})},K=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("form",{children:Object(x.jsxs)("div",{className:"flex flex-col space-y-4 p-4 border-2 border-white rounded-md  text-white dark:bg-transparent",children:[Object(x.jsxs)("div",{className:"flex flex-col font-semibold",children:[Object(x.jsx)("label",{htmlFor:"priorityName",children:"Priority Name"}),Object(x.jsx)("input",{id:"priorityName",type:"text",className:"p-1 bg-white text-black",value:e.values.priorityName,onChange:function(t){return e.handleChange(t.target)}})]}),Object(x.jsxs)("div",{className:"flex flex-col font-semibold",children:[Object(x.jsx)("label",{htmlFor:"prioritySort",children:"Priority level"}),Object(x.jsx)("input",{id:"prioritySort",type:"number",className:"p-1 bg-white text-black",value:e.values.prioritySort,onChange:function(t){return e.handleChange(t.target)}})]}),Object(x.jsx)("div",{className:"flex flex-row justify-center",children:Object(x.jsx)("button",{className:"p-2 bg-green-600 w-full font-bold text-white",onClick:function(t){e.addPriority(t.target),t.preventDefault()},children:"Add"})})]})})})},Q=function(e){var t=function(t){return Object(x.jsx)("div",{className:"flex w-full h-14 dark:border-white border rounded-md",children:e.selectedPriority.id===t.id?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{onClick:function(){return e.selectedPriority.id===t.id?e.selectPriority($):e.selectPriority(t)},className:"flex w-4/5 flex-row space-x-4 p-4 rounded-l-md bg-yellow-100 text-blue-500 dark:text-white dark:bg-transparent cursor-pointer",children:[Object(x.jsx)("div",{className:"font-semibold w-1/2",children:t.priorityName}),Object(x.jsxs)("div",{className:"w-1/2",children:[Object(x.jsx)("label",{children:"Priority Level: "}),t.prioritySort]})]}),Object(x.jsx)("div",{className:"flex w-1/5 flex-row ",children:Object(x.jsx)("button",{className:" w-full h-full p-4 bg-red-500 rounded-r-md text-white",onClick:function(){return e.removePriority(t)},children:"Remove"})})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{onClick:function(){return e.selectedPriority.id===t.id?e.selectPriority($):e.selectPriority(t)},className:"flex w-full flex-row space-x-4 p-4 rounded-md bg-white text-blue-500 dark:text-white dark:bg-transparent cursor-pointer hover:bg-yellow-200 dark:hover:bg-gray-400",children:[Object(x.jsx)("div",{className:"font-semibold w-1/2",children:t.priorityName}),Object(x.jsxs)("div",{className:"w-1/2",children:[Object(x.jsx)("label",{children:"Priority: "}),t.prioritySort]}),Object(x.jsx)("div",{children:"\u2199"})]})})})};return Object(x.jsx)("div",{className:"space-y-2",children:e.priorities.sort((function(e,t){return e.prioritySort>t.prioritySort?-1:1})).map((function(e){return Object(r.createElement)(t,Object(l.a)(Object(l.a)({},e),{},{key:e.id}))}))})},X=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("form",{children:Object(x.jsxs)("div",{className:"flex flex-col space-y-4 p-4 border-2 border-white rounded-md  text-white dark:bg-transparent",children:[Object(x.jsxs)("div",{className:"flex flex-col font-semibold",children:[Object(x.jsx)("label",{htmlFor:"priorityName",children:"Priority Name"}),Object(x.jsx)("input",{id:"priorityName",type:"text",className:"p-1 bg-white text-black",value:e.values.priorityName,onChange:function(t){return e.handleEditChange(t.target)}})]}),Object(x.jsxs)("div",{className:"flex flex-col font-semibold",children:[Object(x.jsx)("label",{htmlFor:"prioritySort",children:"Priority level"}),Object(x.jsx)("input",{id:"prioritySort",type:"number",className:"p-1 bg-white text-black",value:e.values.prioritySort,onChange:function(t){return e.handleEditChange(t.target)}})]}),Object(x.jsx)("div",{className:"flex flex-row justify-center",children:Object(x.jsx)("button",{className:"p-2 bg-yellow-200 w-full font-bold text-black",onClick:function(t){e.editPriority(t.target),t.preventDefault()},children:"Edit"})})]})})})},Z={priorityName:"",prioritySort:0},$={priorityName:"",prioritySort:0},ee=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)({pageStatus:s.Loading,statusCode:-1}),c=Object(i.a)(o,2),d=c[0],j=c[1],b=Object(r.useState)(Z),p=Object(i.a)(b,2),h=p[0],f=p[1],w=Object(r.useState)($),y=Object(i.a)(w,2),N=y[0],C=y[1],S=Object(r.useContext)(u);console.log(N);var D=function(){var e=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getAll("/TodoPriorities",null!==(t=S.jwt)&&void 0!==t?t:"");case 2:(a=e.sent).ok&&a.data?(n(a.data),j({pageStatus:s.Ok,statusCode:a.statusCode})):j({pageStatus:s.Error,statusCode:a.statusCode,messages:a.messages});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,k.post("/TodoPriorities",h,null!==(t=S.jwt)&&void 0!==t?t:"");case 3:(a=e.sent).ok&&a.data?(j({pageStatus:s.Ok,statusCode:a.statusCode}),D(),f(Z)):j({pageStatus:s.Error,statusCode:a.statusCode,messages:a.messages});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,r,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,k.delete("/TodoPriorities",null!==(a=t.id)&&void 0!==a?a:"",null!==(r=S.jwt)&&void 0!==r?r:"");case 3:(n=e.sent).ok?(j({pageStatus:s.Ok,statusCode:n.statusCode}),D(),f(Z),C($)):j({pageStatus:s.Error,statusCode:n.statusCode,messages:n.messages});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,k.put("/TodoPriorities",N,null!==(t=N.id)&&void 0!==t?t:"",null!==(a=S.jwt)&&void 0!==a?a:"");case 3:(r=e.sent).ok?(j({pageStatus:s.Ok,statusCode:r.statusCode}),D(),f(Z),C($)):j({pageStatus:s.Error,statusCode:r.statusCode,messages:r.messages});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){D()}),[]),Object(x.jsx)(x.Fragment,{children:null!==S.jwt?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(O,{pageStatus:d}),Object(x.jsxs)("div",{className:"flex flex-col border-b border-t border-white p-4 space-y-4",children:[N.id?Object(x.jsx)(X,{handleEditChange:function(e){switch(e.id){case"priorityName":return void C(Object(l.a)(Object(l.a)({},N),{},{priorityName:e.value}));case"prioritySort":return void C(Object(l.a)(Object(l.a)({},N),{},{prioritySort:Number.parseInt(e.value)}));default:return}},values:N,editPriority:F}):Object(x.jsx)(K,{handleChange:function(e){switch(e.id){case"priorityName":return void f(Object(l.a)(Object(l.a)({},h),{},{priorityName:e.value}));case"prioritySort":return void f(Object(l.a)(Object(l.a)({},h),{},{prioritySort:Number.parseInt(e.value)}));default:return}},values:h,addPriority:T}),Object(x.jsx)(Q,{removePriority:P,priorities:a,selectPriority:C,selectedPriority:N})]})]}):Object(x.jsx)(m.a,{to:"/"})})};var te=function(){var e=Object(r.useState)(Object(l.a)(Object(l.a)({},d),{},{setAuthInfo:function(e,t,r){s(Object(l.a)(Object(l.a)({},a),{},{jwt:e,firstName:t,lastName:r}))}})),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(x.jsx)(j,{value:a,children:Object(x.jsxs)("div",{className:"dark:bg-gray-800 bg-blue-700 min-h-screen",children:[Object(x.jsx)(p,{}),Object(x.jsx)("main",{className:"p-4",children:Object(x.jsxs)(m.d,{children:[Object(x.jsx)(m.b,{exact:!0,path:"/",component:A}),Object(x.jsx)(m.b,{exact:!0,path:"/identity/login",component:H}),Object(x.jsx)(m.b,{exact:!0,path:"/identity/register",component:z}),Object(x.jsx)(m.b,{exact:!0,path:"/todos",component:I}),Object(x.jsx)(m.b,{exact:!0,path:"/categories",component:Y}),Object(x.jsx)(m.b,{exact:!0,path:"/priorities",component:ee}),Object(x.jsx)(m.b,{component:h})]})})]})})};a(167),a(168),a(169),a(170);c.a.render(Object(x.jsx)(b.a,{basename:"/react-hw-final",children:Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(te,{})})}),document.getElementById("root"))}},[[171,1,2]]]);
//# sourceMappingURL=main.d51a6667.chunk.js.map