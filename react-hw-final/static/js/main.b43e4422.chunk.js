(this["webpackJsonphw-final-app"]=this["webpackJsonphw-final-app"]||[]).push([[0],{169:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);var s,r=a(2),n=a.n(r),o=a(31),i=a.n(o),c=a(9),l=a(5),d={jwt:null,firstName:"",lastName:"",setAuthInfo:function(){},loading:!1},u=n.a.createContext(d),j=u.Provider,b=(u.Consumer,a(11)),x=a(0),p=function(){var e=function(e){var t=document.querySelector("html");"dark"!==e||(null===t||void 0===t?void 0:t.classList.contains("dark"))?(null===t||void 0===t||t.classList.remove("dark"),o("\ud83c\udf11")):(o("\u2600"),null===t||void 0===t||t.classList.add(e))},t=function(){var e=document.querySelector("html");return!!(null===e||void 0===e?void 0:e.classList.contains("dark"))},a=Object(r.useState)(t()?"\u2600":"\ud83c\udf11"),s=Object(c.a)(a,2),n=s[0],o=s[1],i=Object(r.useContext)(u);return Object(x.jsxs)("header",{className:"flex p-2 bg-blue-700 dark:bg-gray-800 justify-between",children:[Object(x.jsx)("div",{className:"flex",children:Object(x.jsxs)("ul",{className:"flex flex-wrap flex-row list-none",children:[Object(x.jsx)("li",{className:"flex-auto",children:Object(x.jsx)(b.b,{className:"block px-2 text-white ",to:"/",title:"Home",children:Object(x.jsx)("span",{className:"text-2xl animal"})})}),null===i.jwt?Object(x.jsx)(x.Fragment,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("li",{className:"flex-auto",children:Object(x.jsx)(b.c,{className:"block p-2 text-white dark:hover:bg-pink-100 dark:hover:text-black font-semibold",to:"/todos",children:"Todo list"})}),Object(x.jsx)("li",{className:"flex-auto",children:Object(x.jsx)(b.c,{className:"block p-2 text-white dark:hover:bg-pink-100 dark:hover:text-black font-semibold",to:"/categories",children:"Categories"})}),Object(x.jsx)("li",{className:"flex-auto",children:Object(x.jsx)(b.c,{className:"block p-2 text-white dark:hover:bg-pink-100 dark:hover:text-black font-semibold",to:"/priorities",children:"Priorities"})})]})]})}),Object(x.jsxs)("div",{className:"flex",children:[Object(x.jsx)("ul",{className:"flex flex-wrap flex-row list-none",children:null===i.jwt?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("li",{className:"flex-auto",children:Object(x.jsx)(b.c,{className:"block p-2 text-white hover:bg-pink-100 hover:text-black font-semibold",to:"/identity/login",children:"Login"})}),Object(x.jsx)("li",{className:"flex-auto",children:Object(x.jsx)(b.c,{className:"block p-2 text-white hover:bg-pink-100 hover:text-black font-semibold",to:"/identity/register",children:"Register"})})]}):Object(x.jsx)("li",{children:Object(x.jsx)("button",{onClick:function(){i.setAuthInfo(null,"","")},className:"block p-2 text-white hover:bg-pink-100 hover:text-black font-semibold",children:"Log Out"})})}),t()?Object(x.jsx)("button",{className:"text-white",onClick:function(){return e("")},children:n}):Object(x.jsx)("button",{onClick:function(){return e("dark")},children:n})]})]})},h=a(10),v=function(){var e=Object(r.useContext)(u);return Object(x.jsx)("div",{className:"flex flex-row justify-center text-white",children:Object(x.jsxs)("div",{className:"flex flex-col space-y-20",children:[Object(x.jsx)("div",{children:"Sadly, this page does not exist."}),Object(x.jsxs)("div",{className:"flex flex-row justify-evenly font-semibold",children:[Object(x.jsx)(b.b,{to:"/",children:"Home"}),"|",null===e.jwt?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.b,{to:"/identity/login",children:"Login"}),"|",Object(x.jsx)(b.b,{to:"/identity/register",children:"Register"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.b,{to:"/todos",children:"Todo list"}),"|",Object(x.jsx)(b.b,{to:"/categories",children:"Categories"}),"|",Object(x.jsx)(b.b,{to:"/priorities",children:"Priorities"})]})]})]})})},m=a(6),f=a.n(m),g=a(8),O=function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("label",{htmlFor:"todoCategoryId",className:"text-white font-semibold",children:e.labelValue}),Object(x.jsxs)("select",{id:e.id,value:e.value,onChange:function(t){return e.handleChange(t.target)},className:"p-1 "+e.classNames,children:[Object(x.jsx)("option",{value:"-1"},""),e.options]})]})},w=function(e){return"selectList"===e.type?Object(x.jsx)("div",{className:"flex flex-col w-1/3",children:Object(x.jsx)(O,{handleChange:function(t){return e.handleChange(t)},id:e.id,labelValue:e.labelValue,options:e.options,value:e.value})}):Object(x.jsx)(x.Fragment,{})},y=function(e){return Object(x.jsxs)("div",{className:"flex flex-col font-semibold",children:[Object(x.jsx)("label",{className:"text-white",htmlFor:e.id,children:e.labelValue}),Object(x.jsx)("input",{id:e.id,type:e.type,className:"p-1 bg-white text-black "+e.classNames,value:e.value,onChange:function(t){return e.handleChange(t.target)}})]})};!function(e){e.Loading="Loading...",e.Error="Error...",e.Ok="Ok"}(s||(s={}));var C=function(e){var t;switch(e.pageStatus.pageStatus){case s.Loading:return Object(x.jsx)("div",{className:"absolute top-0 right-0 bottom-0 left-0 w-full h-full bg-gray-600 grid opacity-60 justify-center content-center ",children:Object(x.jsxs)("div",{className:"lds-ring",children:[Object(x.jsx)("div",{className:"dark:boder-white"}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{})]})});case s.Error:return Object(x.jsxs)("div",{id:"error",onClick:function(e){return function(e){var t;null===(t=document.querySelector("#error"))||void 0===t||t.classList.add("hidden")}()},className:"absolute top-0 bg-red-300 p-4 rounded-br-md",children:["Error ",e.pageStatus.statusCode,Object(x.jsx)("br",{}),Object(x.jsx)("ul",{children:null===(t=e.pageStatus.messages)||void 0===t?void 0:t.map((function(e){return Object(x.jsx)("li",{children:e})}))})]});default:return Object(x.jsx)(x.Fragment,{})}},N=function(e){return Object(x.jsx)("option",{value:e.value,children:e.displayName},e.key)},k=a(35),S=a(79),D=a(36),T=a.n(D),F=function(){function e(){Object(k.a)(this,e)}return Object(S.a)(e,null,[{key:"getAxiosConfiguration",value:function(e){if(e)return{headers:{Authorization:"Bearer "+e}}}}]),e}();F._axios=T.a.create({baseURL:"https://taltech.akaver.com/api/v1/",headers:{"Content-Type":"application/json"}}),F.getAll=function(){var e=Object(g.a)(f.a.mark((function e(t,a){var s,r,n,o,i,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F._axios.get(t,F.getAxiosConfiguration(a));case 3:return s=e.sent,e.abrupt("return",{ok:s.status<=299,statusCode:s.status,data:s.data});case 7:return e.prev=7,e.t0=e.catch(0),c=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(r=null===(n=c.response)||void 0===n?void 0:n.status)&&void 0!==r?r:500,data:null===(o=c.response)||void 0===o?void 0:o.data,messages:null===(i=c.response)||void 0===i?void 0:i.data.messages});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),F.get=function(){var e=Object(g.a)(f.a.mark((function e(t,a,s){var r,n,o,i,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F._axios.get("".concat(t,"/").concat(a),F.getAxiosConfiguration(s));case 3:return r=e.sent,e.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 7:return e.prev=7,e.t0=e.catch(0),l=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(n=null===(o=l.response)||void 0===o?void 0:o.status)&&void 0!==n?n:500,data:null===(i=l.response)||void 0===i?void 0:i.data,messages:null===(c=l.response)||void 0===c?void 0:c.data.messages});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,s){return e.apply(this,arguments)}}(),F.post=function(){var e=Object(g.a)(f.a.mark((function e(t,a,s){var r,n,o,i,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F._axios.post(t,JSON.stringify(a),F.getAxiosConfiguration(s));case 3:return r=e.sent,e.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 7:return e.prev=7,e.t0=e.catch(0),l=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(n=null===(o=l.response)||void 0===o?void 0:o.status)&&void 0!==n?n:500,data:null===(i=l.response)||void 0===i?void 0:i.data,messages:null===(c=l.response)||void 0===c?void 0:c.data.messages});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,s){return e.apply(this,arguments)}}(),F.put=function(){var e=Object(g.a)(f.a.mark((function e(t,a,s,r){var n,o,i,c,l,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F._axios.put("".concat(t,"/").concat(s),JSON.stringify(a),F.getAxiosConfiguration(r));case 3:return n=e.sent,e.abrupt("return",{ok:n.status<=299,statusCode:n.status,data:n.data});case 7:return e.prev=7,e.t0=e.catch(0),d=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(o=null===(i=d.response)||void 0===i?void 0:i.status)&&void 0!==o?o:500,data:null===(c=d.response)||void 0===c?void 0:c.data,messages:null===(l=d.response)||void 0===l?void 0:l.data.messages});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,s,r){return e.apply(this,arguments)}}(),F.delete=function(){var e=Object(g.a)(f.a.mark((function e(t,a,s){var r,n,o,i,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F._axios.delete("".concat(t,"/").concat(a),F.getAxiosConfiguration(s));case 3:return r=e.sent,e.abrupt("return",{ok:r.status<=299,statusCode:r.status,data:r.data});case 7:return e.prev=7,e.t0=e.catch(0),l=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(n=null===(o=l.response)||void 0===o?void 0:o.status)&&void 0!==n?n:500,data:null===(i=l.response)||void 0===i?void 0:i.data,messages:null===(c=l.response)||void 0===c?void 0:c.data.messages});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,s){return e.apply(this,arguments)}}();var P=function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";return"".concat(e.getDate()>9?e.getDate():"0"+e.getDate()).concat(t).concat(e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1)).concat(t).concat(e.getFullYear())};return Object(x.jsx)("div",{className:"flex justify-center p-2 border-t border-b border-1",children:Object(x.jsxs)("div",{className:"flex flex-col sm:w-120 w-96 cursor-default",children:[Object(x.jsxs)("div",{className:"flex flex-row justify-between font-semibold text-white",children:[Object(x.jsx)("div",{className:"sm:w-2/4 w-2/3",children:"Task"}),Object(x.jsx)("div",{className:"sm:w-1/4 sm:block hidden",children:"Added"}),Object(x.jsx)("div",{className:"sm:w-1/4 w-1/3",children:"Due date"}),Object(x.jsx)("div",{className:"w-4"})]}),Object(x.jsx)("div",{className:"space-y-2",children:e.values.sort((function(e,t){var a,s;return e.isCompleted===t.isCompleted?new Date(null!==(a=e.dueDt)&&void 0!==a?a:"")<new Date(null!==(s=t.dueDt)&&void 0!==s?s:"")?-1:1:e.isCompleted?1:-1})).map((function(a){var s,r,n;return a.id===e.selectedTodo.id?Object(x.jsxs)("div",{className:"flex flex-row justify-between p-1 border rounded-md border-yellow-100 bg-yellow-200 text-black cursor-pointer",children:[Object(x.jsxs)("div",{onClick:function(t){return e.selectedTodo.id===a.id?e.setSelectedTodo(H):e.setSelectedTodo(a)},className:"flex flex-row justify-between w-full",id:a.id,children:[Object(x.jsx)("div",{className:"sm:w-2/4  w-2/3",children:a.taskName}),Object(x.jsx)("div",{className:"sm:w-1/4 sm:block hidden",children:t(new Date(null!==(s=a.createdDt)&&void 0!==s?s:new Date))}),Object(x.jsx)("div",{className:"sm:w-1/4  w-1/3",children:t(new Date(a.dueDt))})]}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"h-4 w-4",type:"checkbox",checked:a.isCompleted,onChange:function(){e.setTodoCompletedValue(a)}})})]}):a.isCompleted?Object(x.jsxs)("div",{className:"flex flex-row justify-between p-1 border rounded-md border-white hover:bg-yellow-200 hover:text-black text-white opacity-30 cursor-pointer",children:[Object(x.jsxs)("div",{onClick:function(t){return e.selectedTodo.id===a.id?e.setSelectedTodo(H):e.setSelectedTodo(a)},className:"flex flex-row justify-between w-full",id:a.id,children:[Object(x.jsx)("div",{className:"sm:w-2/4  w-2/3",children:a.taskName}),Object(x.jsx)("div",{className:"sm:w-1/4 sm:block hidden",children:t(new Date(null!==(r=a.createdDt)&&void 0!==r?r:new Date))}),Object(x.jsx)("div",{className:"sm:w-1/4  w-1/3",children:t(new Date(a.dueDt))})]}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"h-4 w-4",type:"checkbox",checked:a.isCompleted,onChange:function(){e.setTodoCompletedValue(a)}})})]}):Object(x.jsxs)("div",{className:"flex flex-row justify-between p-1 border rounded-md border-white hover:bg-yellow-200 hover:text-black text-white cursor-pointer",children:[Object(x.jsxs)("div",{onClick:function(t){return e.selectedTodo.id===a.id?e.setSelectedTodo(H):e.setSelectedTodo(a)},className:"flex flex-row justify-between w-full",id:a.id,children:[Object(x.jsx)("div",{className:"sm:w-2/4  w-2/3",children:a.taskName}),Object(x.jsx)("div",{className:"sm:w-1/4 sm:block hidden",children:t(new Date(null!==(n=a.createdDt)&&void 0!==n?n:new Date))}),Object(x.jsx)("div",{className:"sm:w-1/4  w-1/3",children:t(new Date(a.dueDt))})]}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"h-4 w-4",type:"checkbox",checked:a.isCompleted,onChange:function(){e.setTodoCompletedValue(a)}})})]})}))})]})})},L=a(37),E=a.n(L),V=function(e){return Object(x.jsx)("div",{className:"flex flex-row w-full",children:Object(x.jsx)("button",{className:"p-2 font-bold text-center "+e.classNames,onClick:function(t){e.action(t.target),t.preventDefault()},children:e.value})})},A=function(e){return Object(x.jsx)("div",{className:"flex justify-center p-2 border-t border-b border-1",children:Object(x.jsx)("form",{className:"p-2 w-96 sm:w-120 text-black",children:Object(x.jsxs)("div",{className:"flex w-full flex-col space-y-4",children:[Object(x.jsxs)("div",{className:"flex flex-col space-y-4",children:[Object(x.jsx)(y,{type:"text",classNames:"p-1 bg-white",value:e.values.taskName,handleChange:e.handleChange,labelValue:"What do you need to do?",id:"taskName"}),Object(x.jsxs)("div",{className:"flex flex-col",children:[Object(x.jsx)("label",{className:"text-white font-semibold",children:"When does it have to be done?"}),Object(x.jsx)(E.a,{className:"w-full",selected:new Date(e.date),onChange:function(t){return e.handleDateChange(t)},dateFormat:"dd.MM.yyyy",minDate:new Date(Date.now())})]})]}),Object(x.jsxs)("div",{className:"flex flex-row justify-between",children:[Object(x.jsx)("div",{className:"flex flex-col w-1/3",children:e.categories.length>0?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(O,{options:e.categories.map((function(e){var t,a;return Object(x.jsx)(N,{value:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.categoryName},null!==(a=e.id)&&void 0!==a?a:"")})),id:"todoCategoryId",value:e.values.todoCategoryId,handleChange:e.handleChange,labelValue:"Categorize!"})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.b,{className:"p-2 bg-green-600 hover:text-pink-100 font-semibold text-white text-center",to:"/categories",children:"Add categories"}),Object(x.jsx)("span",{className:"text-white",children:"or"}),Object(x.jsx)(V,{action:e.generateDefaultCategories,classNames:"hover:text-pink-100 text-white text-left bg-green-600 w-full",value:"Generate default"})]})}),Object(x.jsx)("div",{className:"flex flex-col w-1/3",children:e.priorities.length>0?Object(x.jsx)(O,{options:e.priorities.map((function(e){var t,a;return Object(x.jsx)(N,{value:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.priorityName},null!==(a=e.id)&&void 0!==a?a:"")})),id:"todoPriorityId",value:e.values.todoPriorityId,handleChange:e.handleChange,labelValue:"Prioritize!"}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.b,{className:"p-2 bg-green-600 hover:text-pink-100 font-semibold text-white text-center",to:"/priorities",children:"Add priorities"}),Object(x.jsx)("span",{className:"text-white",children:"or"}),Object(x.jsx)(V,{action:e.generateDefaultPriorities,classNames:"hover:text-pink-100 text-white text-left bg-green-600 w-full",value:"Generate default"})]})})]}),Object(x.jsx)(V,{action:e.addTodo,classNames:"bg-green-600 w-full text-white",value:"Add"})]})})})},I=function(e){return Object(x.jsx)("div",{className:"flex justify-center p-2 border-t border-b border-1",children:Object(x.jsx)("form",{className:"p-2 w-96 sm:w-120 text-black",children:Object(x.jsxs)("div",{className:"flex w-full flex-col space-y-4",children:[Object(x.jsxs)("div",{className:"flex flex-col space-y-4",children:[Object(x.jsx)(y,{type:"text",classNames:"p-1 bg-white",value:e.values.taskName,handleChange:e.handleChange,labelValue:"What do you need to do?",id:"taskNameEdit"}),Object(x.jsxs)("div",{className:"flex flex-col",children:[Object(x.jsx)("label",{className:"text-white font-semibold",children:"When does it have to be done?"}),Object(x.jsx)(E.a,{className:"w-full",selected:new Date(e.values.dueDt),onChange:function(t){return e.handleDateChange(t)},dateFormat:"dd.MM.yyyy",minDate:new Date(Date.now())})]})]}),Object(x.jsxs)("div",{className:"flex flex-row justify-between",children:[Object(x.jsx)("div",{className:"flex flex-col w-1/3",children:Object(x.jsx)(O,{options:e.categories.map((function(e){var t,a;return Object(x.jsx)(N,{value:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.categoryName},null!==(a=e.id)&&void 0!==a?a:"")})),id:"todoCategoryIdEdit",value:e.values.todoCategoryId,handleChange:e.handleChange,labelValue:"Categorize!"})}),Object(x.jsx)("div",{className:"flex flex-col w-1/3",children:Object(x.jsx)(O,{options:e.priorities.map((function(e){var t,a;return Object(x.jsx)(N,{value:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.priorityName},null!==(a=e.id)&&void 0!==a?a:"")})),id:"todoPriorityIdEdit",value:e.values.todoPriorityId,handleChange:e.handleChange,labelValue:"Prioritize!"})})]}),Object(x.jsxs)("div",{className:"flex flex-row",children:[Object(x.jsx)(V,{action:e.editTodo,classNames:"bg-yellow-200 text-black w-full",value:"Edit"}),e.values.isArchived?Object(x.jsx)(V,{action:e.deleteTodo,classNames:"bg-red-300 text-black w-full",value:"Delete permanently"}):Object(x.jsx)(V,{action:e.archiveTodo,classNames:"bg-red-200 text-black w-full",value:"Archive"})]})]})})})},M={taskName:"",taskSort:0,dueDt:new Date(Date.now()),isCompleted:!1,isArchived:!1,todoCategoryId:"",todoPriorityId:""},H={id:"",taskName:"",taskSort:0,dueDt:new Date(Date.now()),isCompleted:!1,isArchived:!1,todoCategoryId:"",todoPriorityId:""},R={categoryFilters:"",priorityFilters:"",hideDone:"",searchValue:""},q={},J=function(){var e=Object(r.useState)(M),t=Object(c.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)([]),i=Object(c.a)(o,2),d=i[0],j=i[1],b=Object(r.useState)({pageStatus:s.Loading,statusCode:-1}),p=Object(c.a)(b,2),v=p[0],m=p[1],O=Object(r.useState)([]),k=Object(c.a)(O,2),S=k[0],D=k[1],T=Object(r.useState)([]),L=Object(c.a)(T,2),E=L[0],V=L[1],J=Object(r.useState)(new Date(Date.now())),_=Object(c.a)(J,2),z=_[0],W=_[1],B=Object(r.useState)(H),G=Object(c.a)(B,2),U=G[0],Y=G[1],K=Object(r.useState)([]),Q=Object(c.a)(K,2),X=Q[0],Z=Q[1],$=Object(r.useState)(R),ee=Object(c.a)($,2),te=ee[0],ae=ee[1],se=Object(r.useState)([]),re=Object(c.a)(se,2),ne=re[0],oe=re[1],ie=Object(r.useContext)(u),ce=function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,r,n,o,i,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getAll("/TodoTasks",null!==(t=ie.jwt)&&void 0!==t?t:"");case 2:if(!(a=e.sent).ok||!a.data){e.next=20;break}return o=a.data.filter((function(e){return!1===e.isArchived})),i=a.data.filter((function(e){return!0===e.isArchived})),oe(o),j(o),Z(i),e.next=11,F.getAll("/TodoCategories",null!==(r=ie.jwt)&&void 0!==r?r:"");case 11:return(c=e.sent).ok&&c.data&&D(c.data),e.next=15,F.getAll("/TodoPriorities",null!==(n=ie.jwt)&&void 0!==n?n:"");case 15:(l=e.sent).ok&&l.data&&V(l.data),m({pageStatus:s.Ok,statusCode:a.statusCode}),e.next=21;break;case 20:m({pageStatus:s.Error,statusCode:a.statusCode,messages:a.messages});case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(e){switch(e.id){case"taskName":return void n(Object(l.a)(Object(l.a)({},a),{},{taskName:e.value}));case"todoCategoryId":return void n(Object(l.a)(Object(l.a)({},a),{},{todoCategoryId:e.value}));case"todoPriorityId":return void n(Object(l.a)(Object(l.a)({},a),{},{todoPriorityId:e.value}));case"taskNameEdit":return void Y(Object(l.a)(Object(l.a)({},U),{},{taskName:e.value}));case"todoCategoryIdEdit":return void Y(Object(l.a)(Object(l.a)({},U),{},{todoCategoryId:e.value}));case"todoPriorityIdEdit":return void Y(Object(l.a)(Object(l.a)({},U),{},{todoPriorityId:e.value}));case"categoryFilter":return ae(Object(l.a)(Object(l.a)({},te),{},{categoryFilters:e.value})),q=Object(l.a)(Object(l.a)({},q),{},{categoryFilters:e.value}),void ve(q);case"priorityFilter":return ae(Object(l.a)(Object(l.a)({},te),{},{priorityFilters:e.value})),q=Object(l.a)(Object(l.a)({},q),{},{priorityFilters:e.value}),void ve(q);case"hideDone":return ae(Object(l.a)(Object(l.a)({},te),{},{hideDone:e.value})),q=Object(l.a)(Object(l.a)({},q),{},{hideDone:e.value}),void ve(q);case"searchValue":return ae(Object(l.a)(Object(l.a)({},te),{},{searchValue:e.value})),q=Object(l.a)(Object(l.a)({},q),{},{searchValue:e.value}),void ve(q);default:return}},de=function(){var e=Object(g.a)(f.a.mark((function e(t){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m({pageStatus:s.Loading,statusCode:-1}),e.next=3,F.post("/TodoTasks",a,null!==(r=ie.jwt)&&void 0!==r?r:"");case 3:(o=e.sent).ok?(n(M),W(new Date(Date.now())),m({pageStatus:s.Ok,statusCode:o.statusCode}),ce()):m({pageStatus:s.Error,statusCode:o.statusCode,messages:o.messages});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m({pageStatus:s.Loading,statusCode:-1}),e.next=3,F.put("/TodoTasks",U,null!==(a=U.id)&&void 0!==a?a:"",null!==(r=ie.jwt)&&void 0!==r?r:"");case 3:(n=e.sent).ok?(m({pageStatus:s.Ok,statusCode:n.statusCode}),Y(H),ce()):m({pageStatus:s.Error,statusCode:n.statusCode,messages:n.messages});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isCompleted?t.isCompleted=!1:t.isCompleted=!0,t.isCompleted||(t.isArchived=!1),m({pageStatus:s.Loading,statusCode:-1}),e.next=5,F.put("/TodoTasks",t,null!==(a=t.id)&&void 0!==a?a:"",null!==(r=ie.jwt)&&void 0!==r?r:"");case 5:(n=e.sent).ok?(m({pageStatus:s.Ok,statusCode:n.statusCode}),ce()):m({pageStatus:s.Error,statusCode:n.statusCode,messages:n.messages});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,r,n,o,i,c,l,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={priorityName:"Low",prioritySort:0},o={priorityName:"Normal",prioritySort:1},i={priorityName:"High",prioritySort:2},m({pageStatus:s.Loading,statusCode:-1}),e.next=6,F.post("/TodoPriorities",n,null!==(t=ie.jwt)&&void 0!==t?t:"");case 6:if((c=e.sent).ok){e.next=10;break}return m({pageStatus:s.Error,statusCode:c.statusCode,messages:c.messages}),e.abrupt("return");case 10:return e.next=12,F.post("/TodoPriorities",o,null!==(a=ie.jwt)&&void 0!==a?a:"");case 12:if((l=e.sent).ok){e.next=16;break}return m({pageStatus:s.Error,statusCode:l.statusCode,messages:l.messages}),e.abrupt("return");case 16:return e.next=18,F.post("/TodoPriorities",i,null!==(r=ie.jwt)&&void 0!==r?r:"");case 18:if((d=e.sent).ok){e.next=22;break}return m({pageStatus:s.Error,statusCode:d.statusCode,messages:d.messages}),e.abrupt("return");case 22:m({pageStatus:s.Ok,statusCode:d.statusCode}),ce();case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,r,n,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={categoryName:"Home",categorySort:0},n={categoryName:"Work",categorySort:1},m({pageStatus:s.Loading,statusCode:-1}),e.next=5,F.post("/TodoCategories",r,null!==(t=ie.jwt)&&void 0!==t?t:"");case 5:if((o=e.sent).ok){e.next=9;break}return m({pageStatus:s.Error,statusCode:o.statusCode,messages:o.messages}),e.abrupt("return");case 9:return e.next=11,F.post("/TodoCategories",n,null!==(a=ie.jwt)&&void 0!==a?a:"");case 11:if((i=e.sent).ok){e.next=15;break}return m({pageStatus:s.Error,statusCode:i.statusCode,messages:i.messages}),e.abrupt("return");case 15:m({pageStatus:s.Ok,statusCode:i.statusCode}),ce();case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m({pageStatus:s.Loading,statusCode:-1}),U.isArchived=!0,e.next=4,F.put("/TodoTasks",U,null!==(t=U.id)&&void 0!==t?t:"",null!==(a=ie.jwt)&&void 0!==a?a:"");case 4:(r=e.sent).ok?(n=d.splice(d.findIndex((function(e){return e.id===U.id})),1),j(d),X.push(n[0]),Y(H),m({pageStatus:s.Ok,statusCode:r.statusCode})):m({pageStatus:s.Error,statusCode:r.statusCode,messages:r.messages});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m({pageStatus:s.Loading,statusCode:-1}),e.next=3,F.delete("/TodoTasks",null!==(t=U.id)&&void 0!==t?t:"",null!==(a=ie.jwt)&&void 0!==a?a:"");case 3:(r=e.sent).ok?(X.splice(d.findIndex((function(e){return e.id===U.id})),1),Z(X),m({pageStatus:s.Ok,statusCode:r.statusCode})):m({pageStatus:s.Error,statusCode:r.statusCode,messages:r.messages}),Y(H),n(M);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(e){var t=d;"-1"!==e.categoryFilters&&void 0!==e.categoryFilters&&(console.log("categoryFilter"),t=t.filter((function(t){return t.todoCategoryId===e.categoryFilters}))),"-1"!==e.priorityFilters&&void 0!==e.priorityFilters&&(console.log("priorityFilter"),t=t.filter((function(t){return t.todoPriorityId===e.priorityFilters}))),"-1"!==e.hideDone&&void 0!==e.hideDone&&(console.log("hideDone"),console.log(e.hideDone),t=t.filter((function(t){return t.isCompleted===("yes"!==e.hideDone)}))),void 0!==e.searchValue&&e.searchValue.length>1&&(t=t.filter((function(t){return t.taskName.toLowerCase().includes(e.searchValue.toLowerCase())}))),oe(t)},me=function(e){var t=document.querySelector(e);return!(null===t||void 0===t?void 0:t.classList.contains("hidden"))},fe=function(e,t,a,s){var r=document.querySelector(t),n=document.querySelector(a);e?(r.classList.add("hidden"),n.classList.add("h-auto"),n.innerHTML=s):(r.classList.remove("hidden"),n.innerHTML=s)};return Object(r.useEffect)((function(){ce()}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(C,{pageStatus:v}),null!==ie.jwt?Object(x.jsxs)("div",{className:"flex lg:flex-row flex-col justify-evenly",children:[Object(x.jsxs)("div",{className:"lg:hidden accordion cursor-pointer text-right",onClick:function(){return me(".panel")?fe(!0,".panel",".accordion","\u2b07"):fe(!1,".panel",".accordion","\u2b06")},children:[Object(x.jsx)("span",{className:"italic text-sm text-white",children:" Click to add new todos \u2192 "}),"\u2b07"]}),Object(x.jsx)("div",{className:"flex-col lg:space-y-12 panel lg:flex hidden",children:""!==U.id?Object(x.jsx)(I,{values:U,handleChange:le,handleDateChange:function(e){Y(Object(l.a)(Object(l.a)({},U),{},{dueDt:e}))},categories:S,priorities:E,editTodo:ue,archiveTodo:pe,deleteTodo:he}):Object(x.jsx)(A,{values:a,handleChange:le,addTodo:de,pageStatus:v,categories:S,priorities:E,handleDateChange:function(e){W(e),n(Object(l.a)(Object(l.a)({},a),{},{dueDt:e}))},date:z,generateDefaultPriorities:be,generateDefaultCategories:xe})}),Object(x.jsxs)("div",{className:"flex flex-col",children:[Object(x.jsx)("div",{className:"flex flex-row justify-center",children:Object(x.jsxs)("div",{className:"flex flex-row sm:w-120 w-96",children:[Object(x.jsx)(y,{handleChange:le,id:"searchValue",labelValue:"Search",type:"text",value:te.searchValue,classNames:"w-full"}),Object(x.jsx)("div",{className:"filter-accordion p-2 text-center flex cursor-pointer border-white rounded-md border m-auto text-white hover:text-blue-500 hover:bg-white",onClick:function(){return me(".filter-panel")?fe(!0,".filter-panel",".filter-accordion","Show filters"):fe(!1,".filter-panel",".filter-accordion","Hide filters")},children:"Show filters"})]})}),Object(x.jsx)("div",{className:"flex flex-row justify-center filter-panel hidden",children:Object(x.jsxs)("div",{className:"flex flex-row sm:w-120 w-96 justify-between",children:[Object(x.jsx)(w,{handleChange:le,id:"categoryFilter",labelValue:"Category filter",value:te.categoryFilters,type:"selectList",options:S.map((function(e){var t,a;return Object(x.jsx)(N,{value:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.categoryName},null!==(a=e.id)&&void 0!==a?a:"")}))}),Object(x.jsx)(w,{handleChange:le,id:"priorityFilter",labelValue:"Priority filter",value:te.priorityFilters,type:"selectList",options:E.map((function(e){var t,a;return Object(x.jsx)(N,{value:null!==(t=e.id)&&void 0!==t?t:"",displayName:e.priorityName},null!==(a=e.id)&&void 0!==a?a:"")}))}),Object(x.jsx)(w,{handleChange:le,id:"hideDone",labelValue:"Hide done",type:"selectList",value:te.hideDone,options:new Array(Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(N,{value:"yes",displayName:"yes"},"1")}))})]})}),Object(x.jsx)(P,{values:ne,setSelectedTodo:Y,selectedTodo:U,setTodoCompletedValue:je}),X.length>0?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"archived-accordion cursor-pointer text-right",onClick:function(){return me(".archived-panel")?fe(!0,".archived-panel",".archived-accordion","\ud83d\udcc1"):fe(!1,".archived-panel",".archived-accordion","\ud83d\udcc2")},children:[Object(x.jsx)("span",{className:"italic text-sm text-white",children:"Show archived todos \u2192 "}),"\ud83d\udcc1"]}),Object(x.jsx)("div",{className:"archived-panel hidden",children:Object(x.jsx)(P,{values:X,setSelectedTodo:Y,selectedTodo:U,setTodoCompletedValue:je})})]}):Object(x.jsx)(x.Fragment,{})]})]}):Object(x.jsx)(h.a,{to:"/"})]})},_=function(){var e=Object(r.useContext)(u);return Object(x.jsxs)("div",{className:"flex flex-col cursor-default",children:[Object(x.jsx)("p",{className:"text-9xl font-bold text-pink-200",children:"Todos."}),null===e.jwt?Object(x.jsxs)("p",{className:"text-2xl font-bold text-pink-200 pl-6",children:[Object(x.jsx)(b.b,{className:"hover:text-white",to:"/identity/login",children:"Login"})," to get started"]}):Object(x.jsx)("p",{className:"text-2xl font-bold text-pink-200 pl-6 italic",children:"You miss 100% of the shots you don't take."})]})},z=function e(){Object(k.a)(this,e)};z.axios=T.a.create({baseURL:"https://taltech.akaver.com/api/v1/Account/",headers:{"Content-Type":"application/json"}}),z.login=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,s,r,n,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.axios.post("Login",JSON.stringify(t));case 3:return a=e.sent,e.abrupt("return",{ok:a.status<=299,statusCode:a.status,data:a.data});case 7:return e.prev=7,e.t0=e.catch(0),i=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(s=null===(r=i.response)||void 0===r?void 0:r.status)&&void 0!==s?s:500,data:null===(n=i.response)||void 0===n?void 0:n.data,messages:null===(o=i.response)||void 0===o?void 0:o.data.messages});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),z.register=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,s,r,n,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.axios.post("Register",JSON.stringify(t));case 3:return a=e.sent,e.abrupt("return",{ok:a.status<=299,statusCode:a.status,data:a.data});case 7:return e.prev=7,e.t0=e.catch(0),i=e.t0,e.abrupt("return",{ok:!1,statusCode:null!==(s=null===(r=i.response)||void 0===r?void 0:r.status)&&void 0!==s?s:500,data:null===(n=i.response)||void 0===n?void 0:n.data,messages:null===(o=i.response)||void 0===o?void 0:o.data.messages});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();var W={email:"",password:""},B=function(e){var t,a;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"flex justify-center p-2 border-t border-b border-1",children:Object(x.jsxs)("form",{className:"p-2 w-96 sm:w-120 text-white space-y-4",children:[Object(x.jsx)(y,{type:"email",value:null!==(t=e.values.email)&&void 0!==t?t:"",handleChange:e.handleChange,labelValue:"Email",id:"email",autoComplete:"email"}),Object(x.jsx)(y,{type:"password",value:null!==(a=e.values.password)&&void 0!==a?a:"",handleChange:e.handleChange,labelValue:"Password",id:"password",autoComplete:"password"}),Object(x.jsx)(V,{classNames:"bg-green-500 w-full text-white",action:e.toggleAuthStatus,value:"Login"})]})}),Object(x.jsx)(C,{pageStatus:e.pageStatus})]})},G=function(){var e=Object(r.useState)(W),t=Object(c.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)({pageStatus:s.Ok,statusCode:0}),i=Object(c.a)(o,2),d=i[0],j=i[1],b=Object(r.useContext)(u),p=function(){var e=Object(g.a)(f.a.mark((function e(t){var r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,z.login({email:a.email,password:a.password});case 3:(r=e.sent).ok&&r.data&&(n=r.data,b.setAuthInfo(n.token,n.firstName,n.lastName),j({pageStatus:s.Ok,statusCode:0})),j({pageStatus:s.Error,statusCode:r.statusCode,messages:r.messages});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:null===b.jwt?Object(x.jsx)(B,{values:a,handleChange:function(e){"email"===e.id&&n(Object(l.a)(Object(l.a)({},a),{},{email:e.value})),"password"===e.id&&n(Object(l.a)(Object(l.a)({},a),{},{password:e.value}))},toggleAuthStatus:p,pageStatus:d}):Object(x.jsx)(h.a,{to:"/todos"})})},U={email:"",password:"",firstName:"",lastName:""},Y=function(e){var t,a,s,r;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"flex justify-center p-2 border-t border-b border-1",children:Object(x.jsxs)("form",{className:"p-2 w-96 sm:w-120 text-white space-y-4",children:[Object(x.jsx)(y,{type:"email",value:null!==(t=e.values.email)&&void 0!==t?t:"",handleChange:e.handleChange,labelValue:"Email",id:"email",autoComplete:"email"}),Object(x.jsx)(y,{type:"password",value:null!==(a=e.values.password)&&void 0!==a?a:"",handleChange:e.handleChange,labelValue:"Password",id:"password",autoComplete:"password"}),Object(x.jsx)(y,{type:"text",value:null!==(s=e.values.firstName)&&void 0!==s?s:"",handleChange:e.handleChange,labelValue:"First Name",id:"firstName"}),Object(x.jsx)(y,{type:"text",value:null!==(r=e.values.lastName)&&void 0!==r?r:"",handleChange:e.handleChange,labelValue:"Last Name",id:"lastName"}),Object(x.jsx)(V,{classNames:"bg-yellow-600 w-full text-black",action:e.toggleAuthStatus,value:"Register"})]})}),Object(x.jsx)(C,{pageStatus:e.pageStatus})]})},K=function(){var e=Object(r.useState)(U),t=Object(c.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)({pageStatus:s.Ok,statusCode:0}),i=Object(c.a)(o,2),d=i[0],j=i[1],b=Object(r.useContext)(u),p=function(){var e=Object(g.a)(f.a.mark((function e(t){var r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,z.register({email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName});case 3:(r=e.sent).ok&&r.data&&(n=r.data,b.setAuthInfo(n.token,n.firstName,n.lastName),j({pageStatus:s.Ok,statusCode:0})),j({pageStatus:s.Error,statusCode:r.statusCode,messages:r.messages});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:null===b.jwt?Object(x.jsx)(Y,{values:a,handleChange:function(e){switch(e.id){case"email":n(Object(l.a)(Object(l.a)({},a),{},{email:e.value}));break;case"password":n(Object(l.a)(Object(l.a)({},a),{},{password:e.value}));break;case"firstName":n(Object(l.a)(Object(l.a)({},a),{},{firstName:e.value}));break;case"lastName":n(Object(l.a)(Object(l.a)({},a),{},{lastName:e.value}))}},toggleAuthStatus:p,pageStatus:d}):Object(x.jsx)(h.a,{to:"/todos"})})},Q=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("form",{children:Object(x.jsxs)("div",{className:"flex flex-col space-y-4 p-4 border-2 border-white rounded-md  text-white dark:bg-transparent",children:[Object(x.jsx)(y,{type:"text",classNames:"p-1 bg-white text-black",value:e.values.categoryName,handleChange:e.handleChange,labelValue:"Category name",id:"categoryName"}),Object(x.jsx)(y,{type:"number",classNames:"p-1 bg-white text-black",value:e.values.categorySort,handleChange:e.handleChange,labelValue:"Priority",id:"categorySort"}),Object(x.jsx)(V,{classNames:"p-2 bg-green-600 w-full font-bold text-white",action:e.addCategory,value:"Add"})]})})})},X=function(e){var t=function(t){return Object(x.jsx)("div",{className:"flex w-full h-14 dark:border-white border rounded-md",children:e.selectedCategory.id===t.id?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{onClick:function(){return e.selectedCategory.id===t.id?e.selectCategory(ee):e.selectCategory(t)},className:"flex w-3/5 flex-row space-x-4 p-4 rounded-l-md bg-yellow-100 text-blue-500 dark:text-white dark:bg-gray-600 cursor-pointer",children:[Object(x.jsx)("div",{className:"font-semibold w-1/2",children:t.categoryName}),Object(x.jsxs)("div",{className:"w-1/2",children:[Object(x.jsx)("label",{children:"Priority: "}),t.categorySort]})]}),Object(x.jsx)("div",{className:"flex w-2/5 flex-row ",children:Object(x.jsx)("button",{className:" w-full h-full p-4 bg-red-500 rounded-r-md text-white",onClick:function(){return e.removeCategory(t)},children:"Remove"})})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{onClick:function(){return e.selectedCategory.id===t.id?e.selectCategory(ee):e.selectCategory(t)},className:"flex w-full flex-row space-x-4 p-4 rounded-md bg-white text-blue-500 dark:text-white dark:bg-transparent cursor-pointer hover:bg-yellow-200 dark:hover:bg-gray-400",children:[Object(x.jsx)("div",{className:"font-semibold w-1/2",children:t.categoryName}),Object(x.jsxs)("div",{className:"w-1/2",children:[Object(x.jsx)("label",{children:"Priority: "}),t.categorySort]}),Object(x.jsx)("div",{children:"\u2199"})]})})})};return Object(x.jsx)("div",{className:"space-y-2",children:e.categories.sort((function(e,t){return e.categorySort>t.categorySort?-1:1})).map((function(e){return Object(r.createElement)(t,Object(l.a)(Object(l.a)({},e),{},{key:e.id}))}))})},Z=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("form",{children:Object(x.jsxs)("div",{className:"flex flex-col space-y-4 p-4 border-2 border-white rounded-md  text-white dark:bg-transparent",children:[Object(x.jsx)(y,{type:"text",value:e.values.categoryName,handleChange:e.handleEditChange,labelValue:"Category name",id:"categoryName"}),Object(x.jsx)(y,{type:"number",value:e.values.categorySort,handleChange:e.handleEditChange,labelValue:"Priority",id:"categorySort"}),Object(x.jsx)(V,{classNames:"text-black bg-yellow-300 w-full",action:e.editCategory,value:"Edit"})]})})})},$={categoryName:"",categorySort:0},ee={categoryName:"",categorySort:0},te=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)({pageStatus:s.Loading,statusCode:-1}),i=Object(c.a)(o,2),d=i[0],j=i[1],b=Object(r.useState)($),p=Object(c.a)(b,2),v=p[0],m=p[1],O=Object(r.useState)(ee),w=Object(c.a)(O,2),y=w[0],N=w[1],k=Object(r.useContext)(u);console.log(y);var S=function(){var e=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getAll("/TodoCategories",null!==(t=k.jwt)&&void 0!==t?t:"");case 2:(a=e.sent).ok&&a.data?(n(a.data),j({pageStatus:s.Ok,statusCode:a.statusCode})):j({pageStatus:s.Error,statusCode:a.statusCode,messages:a.messages});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,F.post("/TodoCategories",v,null!==(t=k.jwt)&&void 0!==t?t:"");case 3:(a=e.sent).ok&&a.data?(j({pageStatus:s.Ok,statusCode:a.statusCode}),S(),m($)):j({pageStatus:s.Error,statusCode:a.statusCode,messages:a.messages});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,F.delete("/TodoCategories",null!==(a=t.id)&&void 0!==a?a:"",null!==(r=k.jwt)&&void 0!==r?r:"");case 3:(n=e.sent).ok?(j({pageStatus:s.Ok,statusCode:n.statusCode}),S(),m($),N(ee)):j({pageStatus:s.Error,statusCode:n.statusCode,messages:n.messages});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,F.put("/TodoCategories",y,null!==(t=y.id)&&void 0!==t?t:"",null!==(a=k.jwt)&&void 0!==a?a:"");case 3:(r=e.sent).ok?(j({pageStatus:s.Ok,statusCode:r.statusCode}),S(),m($),N(ee)):j({pageStatus:s.Error,statusCode:r.statusCode,messages:r.messages});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){S()}),[]),Object(x.jsx)(x.Fragment,{children:null!==k.jwt?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(C,{pageStatus:d}),Object(x.jsxs)("div",{className:"flex flex-col border-b border-t border-white p-4 space-y-4",children:[y.id?Object(x.jsx)(Z,{handleEditChange:function(e){switch(e.id){case"categoryName":return void N(Object(l.a)(Object(l.a)({},y),{},{categoryName:e.value}));case"categorySort":return void N(Object(l.a)(Object(l.a)({},y),{},{categorySort:Number.parseInt(e.value)}));default:return}},values:y,editCategory:P}):Object(x.jsx)(Q,{handleChange:function(e){switch(e.id){case"categoryName":return void m(Object(l.a)(Object(l.a)({},v),{},{categoryName:e.value}));case"categorySort":return void m(Object(l.a)(Object(l.a)({},v),{},{categorySort:Number.parseInt(e.value)}));default:return}},values:v,addCategory:D}),Object(x.jsx)(X,{removeCategory:T,categories:a,selectCategory:N,selectedCategory:y})]})]}):Object(x.jsx)(h.a,{to:"/"})})},ae=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("form",{children:Object(x.jsxs)("div",{className:"flex flex-col space-y-4 p-4 border-2 border-white rounded-md  text-white dark:bg-transparent",children:[Object(x.jsx)(y,{type:"text",value:e.values.priorityName,handleChange:e.handleChange,labelValue:"Priority Name",id:"priorityName"}),Object(x.jsx)(y,{type:"text",value:e.values.prioritySort,handleChange:e.handleChange,labelValue:"Priority level",id:"prioritySort"}),Object(x.jsx)(V,{classNames:"bg-green-600 w-full",action:e.addPriority,value:"Add"})]})})})},se=function(e){var t=function(t){return Object(x.jsx)("div",{className:"flex w-full h-14 dark:border-white border rounded-md",children:e.selectedPriority.id===t.id?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{onClick:function(){return e.selectedPriority.id===t.id?e.selectPriority(oe):e.selectPriority(t)},className:"flex w-4/5 flex-row space-x-4 p-4 rounded-l-md bg-yellow-100 text-blue-500 dark:text-white dark:bg-transparent cursor-pointer",children:[Object(x.jsx)("div",{className:"font-semibold w-1/2",children:t.priorityName}),Object(x.jsxs)("div",{className:"w-1/2",children:[Object(x.jsx)("label",{children:"Priority Level: "}),t.prioritySort]})]}),Object(x.jsx)("div",{className:"flex w-1/5 flex-row ",children:Object(x.jsx)("button",{className:" w-full h-full p-4 bg-red-500 rounded-r-md text-white",onClick:function(){return e.removePriority(t)},children:"Remove"})})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{onClick:function(){return e.selectedPriority.id===t.id?e.selectPriority(oe):e.selectPriority(t)},className:"flex w-full flex-row space-x-4 p-4 rounded-md bg-white text-blue-500 dark:text-white dark:bg-transparent cursor-pointer hover:bg-yellow-200 dark:hover:bg-gray-400",children:[Object(x.jsx)("div",{className:"font-semibold w-1/2",children:t.priorityName}),Object(x.jsxs)("div",{className:"w-1/2",children:[Object(x.jsx)("label",{children:"Priority: "}),t.prioritySort]}),Object(x.jsx)("div",{children:"\u2199"})]})})})};return Object(x.jsx)("div",{className:"space-y-2",children:e.priorities.sort((function(e,t){return e.prioritySort>t.prioritySort?-1:1})).map((function(e){return Object(r.createElement)(t,Object(l.a)(Object(l.a)({},e),{},{key:e.id}))}))})},re=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("form",{children:Object(x.jsxs)("div",{className:"flex flex-col space-y-4 p-4 border-2 border-white rounded-md  text-white dark:bg-transparent",children:[Object(x.jsx)(y,{type:"text",classNames:"p-1 bg-white text-black",value:e.values.priorityName,handleChange:e.handleEditChange,labelValue:"Priority Name",id:"priorityName"}),Object(x.jsx)(y,{type:"text",classNames:"p-1 bg-white text-black",value:e.values.prioritySort,handleChange:e.handleEditChange,labelValue:"Priority level",id:"prioritySort"}),Object(x.jsx)(V,{classNames:"text-black bg-yellow-300 w-full ",action:e.editPriority,value:"Edit"})]})})})},ne={priorityName:"",prioritySort:0},oe={priorityName:"",prioritySort:0},ie=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)({pageStatus:s.Loading,statusCode:-1}),i=Object(c.a)(o,2),d=i[0],j=i[1],b=Object(r.useState)(ne),p=Object(c.a)(b,2),v=p[0],m=p[1],O=Object(r.useState)(oe),w=Object(c.a)(O,2),y=w[0],N=w[1],k=Object(r.useContext)(u);console.log(y);var S=function(){var e=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getAll("/TodoPriorities",null!==(t=k.jwt)&&void 0!==t?t:"");case 2:(a=e.sent).ok&&a.data?(n(a.data),j({pageStatus:s.Ok,statusCode:a.statusCode})):j({pageStatus:s.Error,statusCode:a.statusCode,messages:a.messages});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,F.post("/TodoPriorities",v,null!==(t=k.jwt)&&void 0!==t?t:"");case 3:(a=e.sent).ok&&a.data?(j({pageStatus:s.Ok,statusCode:a.statusCode}),S(),m(ne)):j({pageStatus:s.Error,statusCode:a.statusCode,messages:a.messages});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,F.delete("/TodoPriorities",null!==(a=t.id)&&void 0!==a?a:"",null!==(r=k.jwt)&&void 0!==r?r:"");case 3:(n=e.sent).ok?(j({pageStatus:s.Ok,statusCode:n.statusCode}),S(),m(ne),N(oe)):j({pageStatus:s.Error,statusCode:n.statusCode,messages:n.messages});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({pageStatus:s.Loading,statusCode:-1}),e.next=3,F.put("/TodoPriorities",y,null!==(t=y.id)&&void 0!==t?t:"",null!==(a=k.jwt)&&void 0!==a?a:"");case 3:(r=e.sent).ok?(j({pageStatus:s.Ok,statusCode:r.statusCode}),S(),m(ne),N(oe)):j({pageStatus:s.Error,statusCode:r.statusCode,messages:r.messages});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){S()}),[]),Object(x.jsx)(x.Fragment,{children:null!==k.jwt?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(C,{pageStatus:d}),Object(x.jsxs)("div",{className:"flex flex-col border-b border-t border-white p-4 space-y-4",children:[y.id?Object(x.jsx)(re,{handleEditChange:function(e){switch(e.id){case"priorityName":return void N(Object(l.a)(Object(l.a)({},y),{},{priorityName:e.value}));case"prioritySort":return void N(Object(l.a)(Object(l.a)({},y),{},{prioritySort:Number.parseInt(e.value)}));default:return}},values:y,editPriority:P}):Object(x.jsx)(ae,{handleChange:function(e){switch(e.id){case"priorityName":return void m(Object(l.a)(Object(l.a)({},v),{},{priorityName:e.value}));case"prioritySort":return void m(Object(l.a)(Object(l.a)({},v),{},{prioritySort:Number.parseInt(e.value)}));default:return}},values:v,addPriority:D}),Object(x.jsx)(se,{removePriority:T,priorities:a,selectPriority:N,selectedPriority:y})]})]}):Object(x.jsx)(h.a,{to:"/"})})};var ce=function(){var e=Object(r.useState)(Object(l.a)(Object(l.a)({},d),{},{setAuthInfo:function(e,t,r){s(Object(l.a)(Object(l.a)({},a),{},{jwt:e,firstName:t,lastName:r}))}})),t=Object(c.a)(e,2),a=t[0],s=t[1];return Object(x.jsx)(j,{value:a,children:Object(x.jsxs)("div",{className:"dark:bg-gray-800 bg-blue-700 min-h-screen",children:[Object(x.jsx)(p,{}),Object(x.jsx)("main",{className:"p-4",children:Object(x.jsxs)(h.d,{children:[Object(x.jsx)(h.b,{exact:!0,path:"/",component:_}),Object(x.jsx)(h.b,{exact:!0,path:"/identity/login",component:G}),Object(x.jsx)(h.b,{exact:!0,path:"/identity/register",component:K}),Object(x.jsx)(h.b,{exact:!0,path:"/todos",component:J}),Object(x.jsx)(h.b,{exact:!0,path:"/categories",component:te}),Object(x.jsx)(h.b,{exact:!0,path:"/priorities",component:ie}),Object(x.jsx)(h.b,{component:v})]})})]})})};a(167),a(168),a(169),a(170);i.a.render(Object(x.jsx)(b.a,{basename:"/react-hw-final",children:Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(ce,{})})}),document.getElementById("root"))}},[[171,1,2]]]);
//# sourceMappingURL=main.b43e4422.chunk.js.map